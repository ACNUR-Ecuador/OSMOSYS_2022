<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.17.0.final using JasperReports Library version 6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="indicatorsCatalogWithImplementersSimple" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" isIgnorePagination="true" uuid="d4000276-96a8-42bf-8921-e56312f2392a">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="local_osmosys"/>
	<property name="net.sf.jasperreports.export.xls.one.page.per.sheet" value="true"/>
	<property name="net.sf.jasperreports.page.break.no.pagination" value="apply"/>
	<property name="net.sf.jasperreports.export.xls.remove.empty.space.between.rows" value="true"/>
	<property name="net.sf.jasperreports.export.xls.remove.empty.space.between.columns" value="true"/>
	<property name="net.sf.jasperreports.export.xls.white.page.background" value="false"/>
	<property name="net.sf.jasperreports.export.xls.detect.cell.type" value="true"/>
	<property name="net.sf.jasperreports.export.xls.ignore.graphics" value="false"/>
	<property name="net.sf.jasperreports.export.xls.sheet.names.all" value="Data/Footnotes"/>
	<property name="net.sf.jasperreports.export.xls.freeze.row" value="1"/>
	<property name="net.sf.jasperreports.print.keep.full.text" value="true"/>
	<property name="net.sf.jasperreports.export.xls.auto.fit.row" value="true"/>
	<property name="net.sf.jasperreports.export.xls.auto.fit.column" value="true"/>
	<style name="Table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue()%2==0)]]></conditionExpression>
			<style backcolor="#FBFDFF"/>
		</conditionalStyle>
	</style>
	<subDataset name="Dataset1" uuid="88484b51-9cb8-4c54-af54-94dce68ca70e">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="local_osmosys"/>
		<parameter name="periodId" class="java.lang.Long"/>
		<queryString language="SQL">
			<![CDATA[SELECT
ar.code || ' - '||  ar.short_description as area,
st.code || ' - '|| st.description as statement,
i.code || ' - '|| i.description as indicator,
i.category,
i.frecuency,
COALESCE (offf.acronym, org.acronym) implementers,
string_agg(DISTINCT da.dissagregation_type,', ') dissagregations,
string_agg(DISTINCT cd.description,', ') custom_dissagregations
FROM osmosys.indicators i
LEFT JOIN osmosys.dissagregation_assignation_indicator da on i.id=da.indicator_id and da.state='ACTIVO'
LEFT JOIN osmosys.custom_dissagregation_assignation_indicator dac on i.id=dac.indicator_id and dac.state='ACTIVO'
LEFT JOIN osmosys.custom_dissagregations cd on dac.custom_dissagregation_id=cd.id
LEFT JOIN osmosys.indicator_executions ie  on ie.performance_indicator_id=i.id and ie."state"='ACTIVO' AND IE.performance_indicator_id IS NOT NULL
LEFT JOIN osmosys.statements st on i.statement_id = st.id
LEFT JOIN osmosys.areas ar on st.area_id=ar."id"
LEFT JOIN osmosys.offices offf on ie.reporting_office_id=offf."id"
LEFT JOIN osmosys.projects pr on ie.project_id=pr."id"
LEFT JOIN osmosys.organizations org on pr.organization_id=org."id"
WHERE da.period_id=$P{periodId}  or dac.period_id= $P{periodId} 
GROUP BY ar.id,1,2,3,4,5,6
ORDER BY ar.id,1,2,3,4,5,6]]>
		</queryString>
		<field name="area" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="area"/>
			<property name="com.jaspersoft.studio.field.label" value="area"/>
		</field>
		<field name="statement" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="statement"/>
			<property name="com.jaspersoft.studio.field.label" value="statement"/>
		</field>
		<field name="indicator" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="indicator"/>
			<property name="com.jaspersoft.studio.field.label" value="indicator"/>
		</field>
		<field name="category" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="category"/>
			<property name="com.jaspersoft.studio.field.label" value="category"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="indicators"/>
		</field>
		<field name="frecuency" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="frecuency"/>
			<property name="com.jaspersoft.studio.field.label" value="frecuency"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="indicators"/>
		</field>
		<field name="implementers" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="implementers"/>
			<property name="com.jaspersoft.studio.field.label" value="implementers"/>
		</field>
		<field name="dissagregations" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="dissagregations"/>
			<property name="com.jaspersoft.studio.field.label" value="dissagregations"/>
		</field>
		<field name="custom_dissagregations" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="custom_dissagregations"/>
			<property name="com.jaspersoft.studio.field.label" value="custom_dissagregations"/>
		</field>
	</subDataset>
	<parameter name="periodId" class="java.lang.Long"/>
	<queryString language="SQL">
		<![CDATA[select 1=1 as test]]>
	</queryString>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="232" splitType="Stretch">
			<componentElement>
				<reportElement x="0" y="0" width="802" height="232" uuid="b2f23632-b939-46b2-9a2c-b7f3968a4edc">
					<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
					<property name="com.jaspersoft.studio.table.style.table_header" value="Table_TH"/>
					<property name="com.jaspersoft.studio.table.style.column_header" value="Table_CH"/>
					<property name="com.jaspersoft.studio.table.style.detail" value="Table_TD"/>
					<property name="com.jaspersoft.studio.components.autoresize.proportional" value="true"/>
				</reportElement>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="Dataset1" uuid="1e1cb052-d704-44a7-8944-8b023b8068ad">
						<datasetParameter name="periodId">
							<datasetParameterExpression><![CDATA[$P{periodId}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="135" uuid="3f31679e-f94b-4641-b62a-f55c006386ba">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column1"/>
						<jr:columnHeader style="Table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="135" height="30" uuid="2121eb24-608f-422c-8d3c-0e91eae85f23"/>
								<textElement textAlignment="Center">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Área]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table_TD" height="30">
							<textField textAdjust="StretchHeight" isBlankWhenNull="true">
								<reportElement stretchType="ContainerHeight" x="0" y="0" width="135" height="30" uuid="594dd601-3ccf-41f8-9eba-ac2204468daf"/>
								<textFieldExpression><![CDATA[$F{area}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="135" uuid="fa7fd025-e0ac-4ed4-a365-207c7d5baf84">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column2"/>
						<jr:columnHeader style="Table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="135" height="30" uuid="189d9d48-7188-4163-b3f9-c2075e898fd6"/>
								<textElement textAlignment="Center">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Declaración]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table_TD" height="30">
							<textField textAdjust="StretchHeight" isBlankWhenNull="true">
								<reportElement stretchType="ContainerHeight" x="0" y="0" width="135" height="30" uuid="142c2b86-98b2-4741-bba0-dbf52f4e2836"/>
								<textFieldExpression><![CDATA[$F{statement}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="180" uuid="42f63291-1d8a-4a7c-8dfc-3d61159703df">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column3"/>
						<jr:columnHeader style="Table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="180" height="30" uuid="53ef777f-ede8-41c3-b55c-dbb1c4cb992e"/>
								<textElement textAlignment="Center">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Indicador]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table_TD" height="30">
							<textField textAdjust="StretchHeight" isBlankWhenNull="true">
								<reportElement stretchType="ContainerHeight" x="0" y="0" width="180" height="30" uuid="7e889181-cc2b-454c-96ed-404db0fa8ef8"/>
								<textFieldExpression><![CDATA[$F{category}==null?$F{indicator}:$F{indicator}.concat( "(Categoria: ").concat($F{category}).concat(" )" )]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="88" uuid="9e50b190-661d-4dff-9e49-c7aff79e99d7">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column4"/>
						<jr:columnHeader style="Table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="88" height="30" uuid="f774a086-8b91-40c4-baf3-d3dea4b8dff0"/>
								<textElement textAlignment="Center">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Frecuencia]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table_TD" height="30">
							<textField textAdjust="StretchHeight" isBlankWhenNull="true">
								<reportElement stretchType="ContainerHeight" x="0" y="0" width="88" height="30" uuid="b465be88-2816-4222-88af-8ddf1275b8ae"/>
								<textFieldExpression><![CDATA[$F{frecuency}.toLowerCase()]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="132" uuid="48e6ebbe-d393-42c2-a51c-3a73b6698221">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column5"/>
						<jr:columnHeader style="Table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="132" height="30" uuid="d9a37fe1-1535-49b2-ab78-5d4bac98eefb"/>
								<textElement textAlignment="Center">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Implementadores]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table_TD" height="30">
							<textField textAdjust="StretchHeight" isBlankWhenNull="true">
								<reportElement stretchType="ContainerHeight" x="0" y="0" width="132" height="30" uuid="0e99e629-61dd-4c14-9f57-5aaa4d9a04d3"/>
								<textFieldExpression><![CDATA[$F{implementers}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="132" uuid="66bee0fc-ad76-4077-b76b-21bc80c35743">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column6"/>
						<jr:columnHeader style="Table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="132" height="30" uuid="8e0939d5-96b9-4556-ac4a-a9ab7c75c186"/>
								<textElement textAlignment="Center">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Desagregaciones]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table_TD" height="30">
							<textField textAdjust="StretchHeight" isBlankWhenNull="true">
								<reportElement stretchType="ContainerHeight" x="0" y="0" width="132" height="30" uuid="859c6d87-b437-49b7-a657-0bac4a5f55b8"/>
								<textFieldExpression><![CDATA[$F{dissagregations}!=null?$F{custom_dissagregations}==null?$F{dissagregations}.replaceAll("_"," ").toLowerCase():$F{dissagregations}.replaceAll("_"," ").toLowerCase().concat(", ").concat($F{custom_dissagregations}):null]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
